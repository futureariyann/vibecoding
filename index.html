<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibes Coding Guide v3.0</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        gray: {
                            850: '#1a1a1a',
                            900: '#111111',
                            950: '#0a0a0a',
                        }
                    },
                    animation: {
                        'marquee': 'marquee 25s linear infinite',
                        'fade-in': 'fadeIn 0.3s ease-out',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0%)' },
                            '100%': { transform: 'translateX(-100%)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Prism Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <!-- Smooth Scroll -->
    <script src="https://unpkg.com/lenis@1.0.42/dist/lenis.min.js"></script>

    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
        
        /* Typography overrides */
        .prose h1 { font-family: 'Inter', sans-serif; font-weight: 600; letter-spacing: -0.05em; margin-bottom: 1.5rem; color: white; }
        .prose h2 { font-family: 'Inter', sans-serif; font-weight: 500; letter-spacing: -0.03em; margin-top: 2.5rem; margin-bottom: 1rem; color: #e5e5e5; border-bottom: 1px solid #222; padding-bottom: 0.5rem; }
        .prose h3 { font-family: 'Inter', sans-serif; font-weight: 500; color: #d4d4d4; margin-top: 2rem; }
        .prose p { margin-bottom: 1.25rem; line-height: 1.7; color: #a3a3a3; }
        .prose strong { color: white; font-weight: 600; }
        .prose ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1.5rem; color: #a3a3a3; }
        .prose li { margin-bottom: 0.5rem; }
        .prose code { font-family: 'JetBrains Mono', monospace; background: #1a1a1a; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; color: #e5e5e5; border: 1px solid #333; word-break: break-all; }
        .prose pre { background: #111 !important; border: 1px solid #222; border-radius: 8px; margin: 1.5rem 0; padding: 1.25rem; overflow-x: auto; }
        .prose pre code { background: transparent; padding: 0; border: none; color: inherit; word-break: normal; white-space: pre; }
        .prose blockquote { border-left: 3px solid #fff; padding-left: 1.5rem; font-style: italic; color: #d4d4d4; background: #111; padding: 1rem; border-radius: 0 8px 8px 0; margin: 1.5rem 0; }
        .prose table { width: 100%; text-align: left; border-collapse: collapse; margin: 1.5rem 0; font-size: 0.9em; }
        .prose th { border-bottom: 1px solid #333; padding: 0.75rem; color: white; font-weight: 500; }
        .prose td { border-bottom: 1px solid #222; padding: 0.75rem; color: #a3a3a3; }
        
        /* Grid Background */
        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, #111 1px, transparent 1px),
                              linear-gradient(to bottom, #111 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
        }
    </style>
</head>
<body class="bg-black text-gray-200 h-screen w-screen overflow-hidden flex flex-col selection:bg-white selection:text-black">

    <!-- Header / Marquee -->
    <header class="h-12 border-b border-white/10 flex items-center bg-black/50 backdrop-blur-md z-50 overflow-hidden relative">
        <div class="absolute inset-0 flex items-center whitespace-nowrap animate-marquee font-mono text-xs tracking-widest text-gray-500 uppercase select-none">
            VIBES CODING GUIDE v3.0 // ARCHITECT YOUR INTENT // SOFTWARE 3.0 // NO HALLUCINATIONS // VIBES CODING GUIDE v3.0 // ARCHITECT YOUR INTENT // SOFTWARE 3.0 // NO HALLUCINATIONS //
        </div>
        <div class="absolute right-0 top-0 h-full w-24 bg-gradient-to-l from-black to-transparent z-10"></div>
        <div class="absolute left-0 top-0 h-full w-24 bg-gradient-to-r from-black to-transparent z-10"></div>
    </header>

    <div class="flex flex-1 overflow-hidden relative">
        <!-- Background Grid -->
        <div class="absolute inset-0 bg-grid pointer-events-none z-0 opacity-50"></div>

        <!-- Sidebar -->
        <aside class="w-64 border-r border-white/10 bg-black/80 backdrop-blur-xl flex flex-col z-20">
            <div class="p-6 border-b border-white/10">
                <h1 class="font-bold tracking-tight text-white">VIBES CODING</h1>
                <p class="text-xs text-gray-500 mt-1 font-mono">Documentation v3.0</p>
            </div>
            
            <nav class="flex-1 overflow-y-auto p-4 space-y-6">
                <!-- Group 1 -->
                <div>
                    <h3 class="text-xs font-mono font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2">Getting Started</h3>
                    <ul class="space-y-1">
                        <li><button onclick="loadDoc('README.md')" data-file="README.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Introduction</button></li>
                        <li><button onclick="loadDoc('QUICK_START.md')" data-file="QUICK_START.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Quick Start Guide</button></li>
                        <li><button onclick="loadDoc('ARTICLE.md')" data-file="ARTICLE.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">The Manifesto</button></li>
                    </ul>
                </div>

                <!-- Group 2 -->
                <div>
                    <h3 class="text-xs font-mono font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2">Core Skills</h3>
                    <ul class="space-y-1">
                        <li><button onclick="loadDoc('PROMPT_ENGINEERING.md')" data-file="PROMPT_ENGINEERING.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Prompt Engineering</button></li>
                        <li><button onclick="loadDoc('SECURITY_GUIDE.md')" data-file="SECURITY_GUIDE.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Security & Safety</button></li>
                        <li><button onclick="loadDoc('TROUBLESHOOTING.md')" data-file="TROUBLESHOOTING.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Troubleshooting</button></li>
                    </ul>
                </div>

                <!-- Group 3 -->
                <div>
                    <h3 class="text-xs font-mono font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2">Scaling & Migration</h3>
                    <ul class="space-y-1">
                        <li><button onclick="loadDoc('TEAM_SCALING.md')" data-file="TEAM_SCALING.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Vibe Coding for Teams</button></li>
                        <li><button onclick="loadDoc('MIGRATION_GUIDE.md')" data-file="MIGRATION_GUIDE.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Migration Guide</button></li>
                    </ul>
                </div>

                <!-- Group 4 -->
                <div>
                    <h3 class="text-xs font-mono font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2">The System</h3>
                    <ul class="space-y-1">
                        <li><button onclick="loadDoc('TOOL_STACK.md')" data-file="TOOL_STACK.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">The 2026 AI Tool Stack</button></li>
                        <li><button onclick="loadDoc('AGENT.md')" data-file="AGENT.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">AGENT.md (Router)</button></li>
                        <li><button onclick="loadDoc('SKILL.md')" data-file="SKILL.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">SKILL.md (Stack)</button></li>
                        <li><button onclick="loadDoc('PROJECT_STATUS.md')" data-file="PROJECT_STATUS.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">PROJECT_STATUS.md</button></li>
                    </ul>
                </div>

                <!-- Group 5 -->
                <div>
                    <h3 class="text-xs font-mono font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2">SOPs / Control Plane</h3>
                    <ul class="space-y-1">
                        <li><button onclick="loadDoc('UI_WORKFLOW.md')" data-file="UI_WORKFLOW.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">UI Workflow</button></li>
                        <li><button onclick="loadDoc('BACKEND_WORKFLOW.md')" data-file="BACKEND_WORKFLOW.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Backend Workflow</button></li>
                        <li><button onclick="loadDoc('DEBUG_WORKFLOW.md')" data-file="DEBUG_WORKFLOW.md" class="w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-white/5 hover:text-white transition-colors text-gray-400 nav-btn">Debug Workflow</button></li>
                    </ul>
                </div>
            </nav>

            <div class="p-4 border-t border-white/10">
                <a href="#" class="flex items-center gap-2 text-xs text-gray-600 hover:text-white transition-colors">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    System Operational
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto relative z-10" id="main-scroll">
            <div class="max-w-3xl mx-auto px-8 py-16">
                <!-- Breadcrumb -->
                <div class="mb-8 font-mono text-xs text-gray-500" id="breadcrumb">VIBES / README</div>
                
                <!-- Markdown Render Target -->
                <article id="content" class="prose prose-invert max-w-none animate-fade-in pb-20">
                    <!-- Content injected by JS -->
                </article>
            </div>
        </main>
    </div>

    <!-- MARKDOWN CONTENT STORAGE (Hidden) -->
    <script type="text/markdown" id="md-README.md"># üöÄ Vibes Coding Guide (v3.0)

Welcome to the **Vibes Coding Guide**, a comprehensive framework for managing AI coding agents in the "Software 3.0" era. This repository provides the **Context Architecture** needed to minimize hallucinations and maximize developer intent.

## üìÇ Directory Structure

This repository is structured as a "Corporate Hierarchy" for AI agents:

```bash
vibes-coding-guide/
‚îú‚îÄ‚îÄ ARTICLE.md              # The Manifesto: "Vibes Coding: The Architect's Manifesto (2026)"
‚îú‚îÄ‚îÄ QUICK_START.md          # üÜï Get running in 30 minutes.
‚îú‚îÄ‚îÄ PROMPT_ENGINEERING.md    # üÜï Master the art of prompting.
‚îú‚îÄ‚îÄ SECURITY_GUIDE.md       # üÜï Stay safe in the AI era.
‚îú‚îÄ‚îÄ TEAM_SCALING.md         # üÜï Manage AI in teams.
‚îú‚îÄ‚îÄ MIGRATION_GUIDE.md       # üÜï Transform legacy codebases.
‚îú‚îÄ‚îÄ TROUBLESHOOTING.md      # üÜï Fix common AI issues.
‚îú‚îÄ‚îÄ TOOL_STACK.md           # üÜï Comparison of 2026 tools.
‚îú‚îÄ‚îÄ AGENT.md                # The CEO: The main router that directs the AI to the right SOP.
‚îú‚îÄ‚îÄ SKILL.md                # The Knowledge Base: The tech stack and core recipes.
‚îú‚îÄ‚îÄ PROJECT_STATUS.md       # The Memory: Persistent context of the project's state.
‚îÇ
‚îî‚îÄ‚îÄ .vibes/                 # The Control Plane (Advanced Architecture)
    ‚îú‚îÄ‚îÄ control/            # The Managers: Governance and Safety rules (Placeholders).
    ‚îú‚îÄ‚îÄ memory/             # The Archive: Decision logs and immutable facts (Placeholders).
    ‚îî‚îÄ‚îÄ sop/                # The Workers: Step-by-step Standard Operating Procedures.
        ‚îú‚îÄ‚îÄ UI_WORKFLOW.md      # How to build UI (Components, Storybook, Tailwind).
        ‚îú‚îÄ‚îÄ BACKEND_WORKFLOW.md # How to build Backend (API, DB, Auth).
        ‚îî‚îÄ‚îÄ DEBUG_WORKFLOW.md   # How to fix bugs (Reproduction protocol).
```

## üìÑ File Descriptions

### 1. The Core Documents

*   **`ARTICLE.md`**: The full guide explaining the philosophy of "Vibes Coding," the 2026 Tech Stack (Next.js 16, Hono, Drizzle), and the 3 Operational Modes (Plan, Build, Debug). Read this to understand the *Why*.
*   **`AGENT.md` (The Constitution)**: This is the **System Prompt** for your AI. It defines the "Persona Matrix" (Architect vs. Engineer vs. Detective) and acts as the "Router" that tells the AI which SOP to read based on the task.
*   **`SKILL.md` (The Tech Stack)**: A rigid definition of your technology stack to prevent the AI from using outdated libraries. It contains "Procedural Recipes" for common tasks like "Database Migration."
*   **`PROJECT_STATUS.md` (The Context)**: A dynamic file that acts as the AI's "Short-Term Memory." Update this file at the end of every session so the AI knows where it left off.

### 2. The `.vibes/` Control Plane

This directory implements the **OpenAgentsControl** pattern, separating concerns into specialized files.

*   **`.vibes/sop/UI_WORKFLOW.md`**: Strict rules for frontend development (e.g., "No `useEffect` for data fetching", "Use shadcn/ui").
*   **`.vibes/sop/BACKEND_WORKFLOW.md`**: Strict rules for backend development (e.g., "Validate inputs with Zod", "Use Drizzle for migrations").
*   **`.vibes/sop/DEBUG_WORKFLOW.md`**: A mandatory protocol for fixing bugs (e.g., "Reproduce the bug with a test case *before* fixing it").

## üöÄ How To Use This

1.  **Copy**: Copy these files into the root of your new project.
2.  **Instruct**: Tell your AI agent (Cursor, Windsurf, or OpenCode):
    > "Read `AGENT.md` and `PROJECT_STATUS.md` to start."
3.  **Vibe**: Focus on defining the *intent* (the vibe) and let the agent handle the implementation using the strict SOPs defined in `.vibes/`.

---

*Generated by [Antigravity](https://google.com) - The AI Coding Assistant.*</script>

    <script type="text/markdown" id="md-QUICK_START.md"># üöÄ Quick Start: Your First Vibe Coding Project

Welcome to the future of development. This guide will help you set up your first **Vibe Coding** project in less than 30 minutes using **OpenCode**.

---

## üõ†Ô∏è Step 1: Install the Tools

To start vibe coding, you need a few basic tools:

1.  **Node.js**: The engine that runs your code. [Download here](https://nodejs.org).
2.  **Git**: To save your progress and share your code. [Download here](https://git-scm.com).
3.  **OpenCode**: Your AI Agent. 
    - Install it via terminal: `npm install -g opencode-ai`
    - Or download the desktop app from [opencode.ai](https://opencode.ai).

---

## üèóÔ∏è Step 2: Create Your Project

Open your terminal and run these commands to start a modern web project:

```bash
# 1. Create a new Next.js project
npx create-next-app@latest my-vibe-app --typescript --tailwind --eslint

# 2. Go to the project folder
cd my-vibe-app

# 3. Initialize OpenCode
opencode /init
```

---

## üìÑ Step 3: Setup Your AGENTS.md

OpenCode works best when it has clear instructions. Create a file named `AGENTS.md` in your project root and paste this:

```markdown
# AGENTS.md

## Project Goal
A simple Todo App built with Next.js and Tailwind CSS.

## Tech Stack
- Framework: Next.js 15 (App Router)
- Language: TypeScript
- Styling: Tailwind CSS
- UI: shadcn/ui

## Commands
- Install: `npm install`
- Dev: `npm run dev`
- Test: `npm run test`

## Rules
- Use functional components.
- No `any` types.
- Always use Tailwind for styling.
```

---

## ‚ö°Ô∏è Step 4: Your First Vibe Session

Now, let the AI build the app for you. Open your project in **OpenCode** and type:

> "Read AGENTS.md. Now, create a beautiful Todo App with a clean dark mode design. I want to be able to add, delete, and mark tasks as done."

### What happens next?
1.  OpenCode will read your rules.
2.  It will create the necessary files.
3.  It will show you the result.

---

## ‚úÖ Step 5: The Vibe Check

Once the AI finishes, run the app:

```bash
npm run dev
```

Open `http://localhost:3000` in your browser. If it looks good, you just finished your first Vibe Coding session! üöÄ

---

> **Next Step:** Read [PROMPT_ENGINEERING.md](./PROMPT_ENGINEERING.md) to learn how to talk to your AI like a pro.</script>

    <script type="text/markdown" id="md-PROMPT_ENGINEERING.md"># üß† Prompt Engineering for Vibe Coders

Talking to an AI agent like **OpenCode** is different from using a chat bot. You are the **Conductor**, and the AI is your **Orchestra**.

---

## üåü The Golden Rules of Prompting

### 1. Context is King
Never say "Fix the bug." 
Say: "The button in `@src/components/Button.tsx` is not changing color on hover. Check the Tailwind classes."

### 2. Behavior over Implementation
Don't tell the AI *how* to code. Tell it *what* the user should see.
- **Bad:** "Use a div with flex and justify-center."
- **Good:** "Make the login form appear centered on the screen with a modern look."

### 3. Step-by-Step (The Plan)
For big tasks, always ask for a plan first.
- **Prompt:** "I want to add user authentication. Don't code yet. Give me a step-by-step plan in `plan.md` first."

---

## üìù Prompt Templates

### Template 1: New Feature
```markdown
I want to add [FEATURE NAME].

1. Read [RELEVANT FILES] to understand our patterns.
2. Create a plan for the implementation.
3. Once I approve, build the feature.
4. Use [SPECIFIC LIBRARY] for this task.
```

### Template 2: Bug Fix
```markdown
Fix the bug where [ISSUE DESCRIPTION].

Steps to see the bug:
1. Click [X]
2. Observe [Y]

Please find the root cause, write a test to prove it, and fix it.
```

### Template 3: Refactoring
```markdown
Refactor [FILE/COMPONENT] to make it more readable.

Requirements:
- Do not change how it works.
- Split large functions into smaller ones.
- All existing tests must pass.
```

---

## üõ°Ô∏è The "Vibe Check" Workflow

After the AI writes code, always follow this loop:

1.  **Read:** Look at the code changes. Does it look right?
2.  **Verify:** Run `npm run dev` or `npm test`.
3.  **Refine:** If something is off, don't fix it yourself. Tell the AI: "The design is too crowded. Add more padding between items."

---

> **Tip:** Keep your prompts short and specific. One feature per prompt is the best way to avoid mistakes. üöÄ</script>

    <script type="text/markdown" id="md-SECURITY_GUIDE.md"># üõ°Ô∏è Security & Safety Guide

Vibe coding is fast, but you must stay safe. AI can sometimes suggest insecure code or accidentally share your secrets.

---

## üîë 1. Protect Your Secrets

**Never** let the AI see your API keys, passwords, or database URLs.

-   **Rule:** Always use a `.env` file.
-   **Rule:** Add `.env` to your `.gitignore`.
-   **OpenCode Tip:** If you see the AI writing a password in a file, stop it immediately and ask it to use an environment variable.

---

## üõ°Ô∏è 2. Sanitize Inputs

AI might forget to check user input. This can lead to attacks like **SQL Injection**.

-   **Solution:** Use validation libraries like **Zod**.
-   **Example:**
    ```typescript
    // Ask the AI to always use this pattern:
    const schema = z.object({
      email: z.string().email(),
    });
    ```

---

## üì¶ 3. Check Dependencies

AI might "hallucinate" a library that doesn't exist or recommend an old, insecure one.

-   **Step:** Before installing a new package, check its popularity on [npm](https://www.npmjs.com).
-   **Rule:** Only use well-known libraries like `axios`, `zod`, or `lucide-react`.

---

## üß™ 4. The Verification Rule

**Trust but verify.**

1.  **Linting:** Run `npm run lint` to find obvious mistakes.
2.  **Testing:** Ask the AI to write tests for its code.
3.  **Human Review:** Always read the code before you deploy it to production.

---

## üö´ The "Never Do" List

-   **NEVER** give the AI access to your production database credentials.
-   **NEVER** run a command the AI suggests if you don't understand what it does (e.g., `rm -rf /`).
-   **NEVER** skip code reviews for security-sensitive areas (like Auth or Payments).

---

> **Stay Safe:** Speed is good, but security is better. Always follow the **Vibe Safety Protocol**. üõ°Ô∏è</script>

    <script type="text/markdown" id="md-TEAM_SCALING.md"># üë• Vibe Coding for Teams

Scaling vibe coding to a team requires more than just sharing a repo. It requires a **Control Plane** ‚Äî a corporate-like structure where everyone (humans and AI) knows their role.

---

## üè¢ 1. The Corporate Hierarchy

For large-scale projects, we structure our context files like a company:

-   **CEO (`AGENT.md`)**: The main "Router". It sets the mission and directs the AI to specific SOPs.
-   **Managers (`.vibes/control/`)**: Specialized rules for Security, UI, and Backend.
-   **Workers (`.vibes/sop/`)**: Step-by-step Standard Operating Procedures for specific tasks.
-   **Archive (`.vibes/memory/`)**: Immutable facts, tech stack decisions, and past lessons.

---

## üåø 2. Git Workflow with AI

AI can be messy with commits. Follow this protocol to keep your history clean:

1.  **Isolated Branches:** One feature = one branch. Never let the AI build two things at once in the same branch.
2.  **Conventional Commits:** Enforce the use of `feat:`, `fix:`, and `refactor:`.
3.  **The "Check then Commit" Rule:** Never let the AI auto-commit without your approval. Always run a `git diff` first.

---

## ü§ù 3. Collaboration Patterns

### Shared vs. Personal Rules
-   **`AGENT.md`**: Should be committed to Git. This contains the "Team Rules".
-   **`.vibes/local.md`**: (Optional) Put your personal shortcuts here and add it to `.gitignore`.

### Code Review Checklist for AI Code
When reviewing an AI-generated PR, look for:
-   **Ghost Dependencies:** Did the AI add a library without updating `package.json`?
-   **Zombie Code:** Are there unused functions left behind after a refactor?
-   **Context Leak:** Did the AI accidentally include local paths or secrets?

---

## üìà 4. Scaling Architecture

Loosely coupled systems work best with AI.
-   **Small Files:** Aim for <200 lines. AI gets confused by giant files.
-   **Strict Interfaces:** Use TypeScript `interface` for every component. This gives the AI a "contract" to follow.
-   **Feature Folders:** Keep logic, types, and components for one feature in a single folder.

---

> **Key Takeaway:** In a team, you are no longer just a coder. You are an **Engineer Manager** for your AI agents. üöÄ</script>

    <script type="text/markdown" id="md-MIGRATION_GUIDE.md"># üèóÔ∏è Migrating to Vibe Coding

Moving an existing project to a vibe coding workflow doesn't happen overnight. It's a journey from **Manual Implementation** to **Intent Management**.

---

## üîç 1. The Assessment

Before you start, ask these questions about your codebase:
-   **Is it typed?** If you use JavaScript, migrate to TypeScript first. AI needs types to understand "shapes."
-   **Is it modular?** If you have 2000-line files, the AI will hallucinate.
-   **Are there tests?** You need a safety net to know if the AI broke something.

---

## ü™ú 2. The Gradual Migration Strategy

### Step 1: Document the Vibe
Create your `AGENT.md` and `SKILL.md` based on your **current** stack. Don't try to change the stack yet.

### Step 2: Documentation First
Ask the AI to read your core files and generate READMEs or JSDoc comments. This "trains" the AI on your specific patterns.

### Step 3: Start with New Features
Build all *new* features using the Vibe Coding loop. Leave the old code alone for now.

### Step 4: The "Bite-Sized" Refactor
Pick one messy component. Ask the AI: "Read this component and suggest a plan to split it into three smaller files. Do not change the logic yet."

---

## üõ†Ô∏è 3. Refactoring Patterns

| Pattern | Goal | AI Prompt Example |
| :--- | :--- | :--- |
| **Logic Extraction** | Move business logic out of UI files. | "Move the form validation logic from `Signup.tsx` into a new `useSignup.ts` hook." |
| **Type Hardening** | Replace `any` with strict types. | "Read `api.ts`. Replace all `any` types with interfaces based on the actual data returned." |
| **Boilerplate Kill** | Move repetitive code to helpers. | "I see the same error handling in 5 files. Create a shared `errorHandler` utility and update the files." |

---

## üìñ 4. Case Study: Legacy React to Modern Next.js

**Old State:** React Class Components, Redux, Inline CSS.
**Goal:** Next.js Server Components, Tailwind, URL state.

**The Workflow:**
1.  **Read Class:** Agent reads `UserList.class.js`.
2.  **Define Interface:** Agent creates `UserList.types.ts`.
3.  **Build Functional:** Agent writes `UserList.tsx` using Tailwind.
4.  **Verify:** Run them side-by-side to ensure UI parity.

---

> **Pro Tip:** Don't migrate everything at once. **Migrate the intent, then the syntax.** üöÄ</script>

    <script type="text/markdown" id="md-TROUBLESHOOTING.md"># üîç Troubleshooting & Optimization

Vibe coding isn't magic. Sometimes the AI gets stuck, loops, or writes "creative" but broken code. Here is how to fix the vibe.

---

## üëª 1. AI Hallucination Recovery

### Detecting the "Hallucination"
-   AI suggests a library that doesn't exist.
-   AI uses a function from a different version of your stack.
-   AI keeps making the same mistake after you've corrected it.

### The Recovery Protocol
1.  **Stop the Loop:** If the AI fails twice, do not try a third time.
2.  **Clean the Context:** Type `/clear` or start a new session.
3.  **Feed the Source:** Go find the actual documentation or code snippet. Paste it and say: "This is the correct way to do it. Use this pattern."

---

## üîß 2. Common Errors & Solutions

### "I don't have enough context"
-   **Cause:** You haven't opened the relevant files.
-   **Fix:** Specifically tell it: "Read `schema.ts` and `auth.ts` first."

### "This change might break existing code"
-   **Cause:** AI is being too conservative or sees a conflict.
-   **Fix:** Ask for a **Plan Mode** analysis first. "Analyze the impact of this change and list all affected files."

### Infinite Generation Loop
-   **Cause:** The task is too big or the logic is circular.
-   **Fix:** Break the prompt into 3 smaller tasks.

---

## ‚ö°Ô∏è 3. Token & Performance Optimization

AI performance drops as the chat history grows.

-   **Short Sessions:** One feature = One chat session.
-   **Atomic Prompts:** Instead of "Build the whole page," say "Build the Header component."
-   **Use @-Mentions:** Use `@filename` to give the AI only the specific files it needs.

---

## üõë 4. When to Go Manual

Vibe coding is for **90% of the work**. The last 10% sometimes needs a human touch:

-   **Complex Math/Algorithms:** AI is bad at complex math logic.
-   **Novel Architectures:** If you're building something that has never been done before.
-   **Performance-Critical Code:** Tight loops or low-level memory management.

---

> **The Golden Rule:** If you spend more than 10 minutes trying to prompt a fix, **fix it manually**, show the AI the result, and move on. üöÄ</script>

    <script type="text/markdown" id="md-TOOL_STACK.md"># üõ†Ô∏è The 2026 AI Tool Stack

In 2026, the choice of tool determines your velocity. Here is a comparison of the top AI coding tools and how to set them up.

---

## üìä Comparison Matrix

| Tool | Best For | Interface | Core Strength |
| :--- | :--- | :--- | :--- |
| **OpenCode** | Open Source / Flexibilty | TUI / App / IDE | Multi-agent teams & MCP support. |
| **Cursor** | High-Velocity Prototyping | Integrated IDE | The "Composer" mode is best-in-class for UI. |
| **Claude Code** | Terminal Power Users | CLI | Extremely low hallucination rate. |
| **GitHub Copilot** | Enterprise / Stable | IDE Extension | Deep integration with GitHub Actions & PRs. |

---

## ‚öôÔ∏è 1. OpenCode Setup (Recommended)

OpenCode is the most flexible tool for **Vibe Coding**.

1.  **Install:** `npm install -g opencode-ai`
2.  **Config:** Open `opencode.json` in your project root.
3.  **Load AGENTS.md:** Add `"instructions": ["AGENTS.md"]` to the config.
4.  **MCPs:** Add your database or search MCPs to give the AI real-world access.

---

## ‚öôÔ∏è 2. Cursor Setup

Cursor is an AI-native fork of VS Code.

1.  **Download:** [cursor.sh](https://cursor.com).
2.  **Rules:** Create a `.cursorrules` file (or use `AGENTS.md`).
3.  **Indexing:** Ensure your project is fully indexed (Settings > Features > Indexing).
4.  **Composer:** Press `Cmd+I` to start a multi-file vibe session.

---

## ‚öôÔ∏è 3. Claude Code Setup

The new terminal agent from Anthropic.

1.  **Install:** `npm install -g @anthropic-ai/claude-code`
2.  **Auth:** `claude auth`
3.  **Run:** Type `claude` in your project folder.
4.  **SOPs:** Tell it to "Always read `CLAUDE.md`" (our equivalent to `AGENT.md`).

---

## üß† Which one should you choose?

-   **Solo Dev / UI Focus:** Use **Cursor**.
-   **Backend / Team Focus:** Use **OpenCode**.
-   **Scripting / Terminal:** Use **Claude Code**.
-   **Corporate Security:** Use **GitHub Copilot**.

---

> **Vibe Tip:** All these tools support the **AGENTS.md** standard. Write your rules once, use them everywhere. üöÄ</script>

    <script type="text/markdown" id="md-ARTICLE.md"># üöÄ Vibes Coding: The 2026 Architect's Manifesto

> *"Coding is no longer about typing syntax. It's about **managing intent**, **curating context**, and **vibrating at the right frequency**."*
> ‚Äî Andrej Karpathy (paraphrased), Software 3.0

## üß† 1. The Paradigm Shift

**You are no longer the bricklayer.** In the "Software 2.0" era, you worried about semicolons and memory management.

In **2026**, the AI is the bricklayer. **You are the Site Manager.**

### Your New Job Description:
*   **Define the Vibe:** Set the aesthetic, performance, and UX goals.
*   **Architect the Context:** Feed the *right* files to the AI to prevent hallucinations.
*   **Review the Work:** Perform "Vibe Checks" on the output.

---

## üèóÔ∏è 2. The Context Architecture

**AI hallucinations are just context failures.** It guesses because it doesn't *know*. You need a rigid file structure to ground the AI.

### üìÑ `AGENT.md` (The Constitution)
**The soul of your agent.** Defines *who* it is and *how* it behaves.
*   **Role:** "You are a Senior Architect."
*   **Constraint:** "Never use `any`."
*   **Behavior:** "If a file is >200 lines, refactor it."

### üìö `SKILL.md` (The Knowledge Base)
**The "Legacy Code" killer.** Tells the agent *exactly* which stack to use.
*   *Rule:* "Use Tailwind v4."
*   *Rule:* "Use Drizzle ORM."
*   *Rule:* "Use Hono for API routes."

### üß† `PROJECT_STATUS.md` (The Memory)
**The external hippocampus.** AI has no long-term memory; this file stores it.
*   **Before you quit:** "Update `PROJECT_STATUS.md` with what we did."
*   **When you return:** The agent reads this and instantly knows where it left off.

---

## ‚ö°Ô∏è 3. The 3 Operational Modes

**Stop the AI from rushing.** Explicitly switch its "cognitive mode" to match the task.

### üß† Mode 1: PLAN (The Architect)
*   **Goal:** Define the "What" and "Why" before the "How."
*   **Tooling:** Read-only access + Web Search.
*   **Prompt:** *"Switch to PLAN MODE. Read `schema.ts`. Outline the DB changes for 'Team Settings' in `plan.md`."*

### üî® Mode 2: BUILD (The Engineer)
*   **Goal:** Execute the plan with high precision.
*   **Tooling:** Write access, Terminal, Linter.
*   **Prompt:** *"Switch to BUILD MODE. Execute Step 1 from `plan.md`. Update `schema.ts` and run migrations."*

### üêõ Mode 3: DEBUG (The Detective)
*   **Goal:** Fix the vibe when it feels "off."
*   **Tooling:** Logs, Debugger, MCP (Database Inspection).
*   **Prompt:** *"Switch to DEBUG MODE. The form isn't saving. Check server logs and DB structure."*

---

## üõ†Ô∏è 4. MCPs & Plugins

In 2026, the **Model Context Protocol (MCP)** allows your AI to "touch" the real world securely.

| Tool / MCP | Purpose | Why it's essential |
| :--- | :--- | :--- |
| **PostgreSQL MCP** | **DB Direct Access** | Run real queries to verify data exists. |
| **Brave Search MCP** | **Live Docs** | Check the latest library syntax in real-time. |
| **Filesystem MCP** | **Deep Search** | `grep` the entire repo to find definitions instantly. |
| **GitHub MCP** | **PR Management** | Automate PR summaries and issue linking. |

---

## üíª 5. The 2026 Tech Stack

**Why this stack?** Because it "vibes" best with AI reasoning.

| Layer | Technology | Why it Vibes |
| :--- | :--- | :--- |
| **Frontend** | **Next.js 16 + Tailwind v4** | **Token Efficiency.** AI understands `flex-center` better than verbose CSS. |
| **Backend** | **Hono (RPC)** | **Type Safety.** AI cannot hallucinate endpoints; shared types forbid it. |
| **Database** | **Drizzle ORM** | **Schema-as-Code.** AI reads `schema.ts` and knows your *entire* data model. |
| **Infra** | **Docker + Coolify** | **Standardization.** AI writes perfect Dockerfiles. |

---

## üõ°Ô∏è 6. The Control Plane (Scaling Up)

For large projects, a single prompt isn't enough. You need a **Corporate Hierarchy**.

*   **CEO (`AGENTS.md`)**: The "Router". Sets the mission.
*   **Managers (`.vibes/control/`)**: Enforce rules (e.g., `SECURITY.md`, `GOVERNANCE.md`).
*   **Workers (`.vibes/sop/`)**: Step-by-step guides (e.g., `UI_WORKFLOW.md`, `DB_MIGRATION.md`).
*   **Archive (`.vibes/memory/`)**: Past decisions (e.g., `DECISION_LOG.md`).

---

## ü§ñ 7. The Model Meta (2026)

**Choose the right brain for the job.**

*   üé® **Frontend:** **Kimi k2.5** (The Visualist) - "Sees" Figma, outputs Tailwind.
*   ‚öôÔ∏è **Logic:** **Claude 3.7 Sonnet** (The Logician) - Lowest hallucination rate.
*   üèóÔ∏è **Refactoring:** **Gemini 3 Pro** (The Librarian) - Infinite context window.
*   ‚ö° **Quick Fixes:** **Llama 4** (The Sprinter) - <100ms latency.

---

> **Final Thought:**
> The best code in 2026 isn't written. **It's curated.**
>
> *Now go vibe.* üöÄ</script>

    <script type="text/markdown" id="md-AGENT.md"># üß† AI Agent Constitution (v3.0 Control Plane Router)

> **Role:** You are the **Chief Architect (CEO)** of this codebase.
> **Goal:** Route tasks to the correct specialized SOPs and enforce global governance.
> **Mode:** Balanced (Prioritize velocity, but never break the build).

## üö¶ Capability Routing (The Control Plane)

**DO NOT** guess. **ALWAYS** read the specific SOP for the task at hand.

-   **If building/modifying UI:**
    -> READ `.vibes/sop/UI_WORKFLOW.md`
    -> This defines Component structure, Storybook, and Tailwind rules.

-   **If changing Database/Backend:**
    -> READ `.vibes/sop/BACKEND_WORKFLOW.md`
    -> This defines Schema migration, API validation (Zod), and Security rules.

-   **If fixing bugs:**
    -> READ `.vibes/sop/DEBUG_WORKFLOW.md`
    -> This defines the "Reproduction First" protocol.

## üõ°Ô∏è Global Governance (The Law)

These rules apply to ALL modes and SOPs.

1.  **Atomic Commits:** One feature = One commit.
2.  **Type Safety:** No `any`. Strict Zod validation on all I/O.
3.  **No Secrets:** Never commit `.env` or keys.

## üß† Cognitive Process (The "Chain of Thought")

1.  **Receive Intent:** "Add a dark mode toggle."
2.  **Route:** "This is a UI task. I need `.vibes/sop/UI_WORKFLOW.md`."
3.  **Load Context:** Read the SOP + `SKILL.md` + `globals.css`.
4.  **Plan:** Create a step-by-step plan based on the SOP.
5.  **Execute:** Write the code.</script>

    <script type="text/markdown" id="md-SKILL.md"># ‚ö°Ô∏è Tech Stack & Skills (v2.0 Maximized)

## üì¶ Core Stack (2026 Standard)

-   **Runtime:** Node.js (LTS) via **npm**
-   **Framework:** Next.js 16 (App Router, Server Actions)
-   **Language:** TypeScript 5.x (Strict Mode)
-   **Database:** PostgreSQL 17 (Neon/Supabase)
-   **ORM:** Drizzle ORM (Schema-First)
-   **Auth:** Better Auth v2

## üé® Frontend Mastery

-   **Styling:** Tailwind CSS v4 (Use `@theme` variables, no `tailwind.config.js`)
-   **Components:** shadcn/ui (Radix Primitives)
-   **Icons:** `lucide-react`
-   **State:**
    1.  **URL State:** `nuqs` (Preferred for search/filters)
    2.  **Server State:** `TanStack Query` (For async data)
    3.  **Global Client:** `zustand` (Only if absolutely necessary)
-   **Forms:** `react-hook-form` + `zod` resolver

## üß™ Testing & Quality

-   **Unit:** `vitest` (Co-located with files: `utils/math.ts` -> `utils/math.test.ts`)
-   **E2E:** `playwright` (In `/e2e` directory)
-   **Linting:** `eslint` + `prettier` (Run on save)

## üìÇ Directory Structure Enforcement

Enforce this structure to prevent "spaghetti code":

```typescript
/src
  /app              # Next.js App Router (Pages & Layouts ONLY)
    /(auth)         # Route Groups (Login, Register)
    /dashboard      # Protected Routes
  /components
    /ui             # shadcn/ui primitives (Button, Input)
    /features       # Domain-specific components (AuthForm, UserCard)
    /layout         # Sidebar, Navbar, Footer
  /lib
    db.ts           # Drizzle Client
    utils.ts        # cn() helper
  /server
    /actions        # Server Actions (use 'use server')
    /db             # Database Schema & Migrations
  /hooks            # Custom React Hooks
  /types            # Global TypeScript Definitions
```

## üö´ Banned Patterns (Anti-Vibes)

1.  **No `useEffect` for Data Fetching:** Use Server Components or TanStack Query.
2.  **No Default Exports:** Use named exports (`export const Button = ...`) for better refactoring.
3.  **No Inline Styles:** Use Tailwind classes.
4.  **No Relative Imports:** Use aliases (`@/components/ui/button`).
5.  **No `console.log` in Production:** Use a proper logger or `console.error` for caught exceptions.

## üìù Code Snippet Standards

### API Route (Hono/Next.js)

```typescript
import { z } from "zod";
import { db } from "@/lib/db";

const schema = z.object({ id: z.string() });

export async function POST(req: Request) {
  const body = await req.json();
  const parsed = schema.safeParse(body);
  
  if (!parsed.success) {
    return Response.json({ error: "Invalid input" }, { status: 400 });
  }

  // ... implementation
}
```

### Server Action

```typescript
"use server";

import { revalidatePath } from "next/cache";
import { db } from "@/lib/db";

export async function createItem(formData: FormData) {
  // Validate
  // Mutate
  // Revalidate
}
```</script>

    <script type="text/markdown" id="md-PROJECT_STATUS.md"># üß† Project Status & Memory

> **Note to Agent:** Read this file at the start of every session. Update it before you stop.

## üìç Current Context

-   **Last Action:** [Date/Time] Refactored the `AuthButton` component to use the new `useSession` hook.
-   **Current Focus:** Implementing the "Dark Mode" toggle across the dashboard.
-   **Active Branch:** `feature/dark-mode-v2`

## üöß Known Issues (The "Fix Later" Pile)

-   [ ] The `UserAvatar` component flickers on initial load (hydration mismatch).
-   [ ] Database migration `0014_add_teams` failed on staging (needs manual rollback).

## üìã Next Steps (The Plan)

1.  [x] Install `next-themes`.
2.  [ ] Create `ThemeToggle.tsx` in `@/components/layout`.
3.  [ ] Add `suppressHydrationWarning` to `layout.tsx`.
4.  [ ] Test toggle state persistence in local storage.

## üß† Architecture Decisions (Why We Did This)

-   **Why `next-themes`?** Native support for Tailwind v4 `dark:` variant without FOUC.
-   **Why Hono?** Shared types between FE and BE prevent 40% of runtime errors.</script>

    <script type="text/markdown" id="md-UI_WORKFLOW.md"># üé® UI Engineering Workflow

## üõ†Ô∏è 1. Component Creation

**Standard:** shadcn/ui + Tailwind v4

1.  **Check:** Does the component exist in `src/components/ui`?
2.  **Scaffold:** Create `src/components/features/[feature]/[name].tsx`.
3.  **Props:** Define strict interface (No `any`).
4.  **Story:** Create `[name].stories.tsx`.

## üé® 2. Styling Rules

-   Use `flex` and `grid` for layout.
-   Use `gap-x` and `p-x` tokens.
-   **Forbidden:** `w-[123px]` (Arbitrary values).

## ‚ö°Ô∏è 3. State Management

-   Use `nuqs` for URL state (search params).
-   Use `useState` for local interaction.
-   **Forbidden:** `useEffect` for data fetching.</script>

    <script type="text/markdown" id="md-BACKEND_WORKFLOW.md"># üõ†Ô∏è Backend Engineering Workflow

## ‚ö°Ô∏è 1. API Route Creation

**Standard:** Hono / Next.js Route Handlers

1.  **Validator:** Define Zod schema first.
2.  **Handler:** Implement logic.
3.  **Error Handling:** Use `try/catch` and return standard error response.

## üóÑÔ∏è 2. Database Changes

**Standard:** Drizzle ORM

1.  **Edit:** Modify `schema.ts`.
2.  **Generate:** `npm run db:generate`.
3.  **Verify:** Check SQL output.
4.  **Migrate:** `npm run db:migrate` (Dev only).

## üõ°Ô∏è 3. Security

-   **Auth:** Check `session` before any action.
-   **Sanitization:** Zod handles this automatically.</script>

    <script type="text/markdown" id="md-DEBUG_WORKFLOW.md"># üõ°Ô∏è Debugging & Incident Response

## üî¨ 1. Reproduction Protocol

**Goal:** Prove the bug exists before fixing it.

1.  **Test Case:** Write a failing test in `tests/repro.test.ts`.
2.  **Verify:** Run the test to confirm failure.

## üïµÔ∏è 2. Root Cause Analysis

1.  **Logs:** Read server logs.
2.  **Trace:** Follow the data flow.
3.  **Hypothesis:** "The issue is caused by X because Y."

## üî® 3. The Fix

1.  **Implement:** Fix the code.
2.  **Verify:** Run the repro test (it should pass now).
3.  **Cleanup:** Remove the repro test or promote it to the regression suite.</script>

    <script>
        // Init Smooth Scroll
        let lenis;
        try {
            if (typeof Lenis !== 'undefined') {
                lenis = new Lenis({
                    duration: 1.2,
                    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                    direction: 'vertical',
                    gestureDirection: 'vertical',
                    smooth: true,
                    mouseMultiplier: 1,
                    smoothTouch: false,
                    touchMultiplier: 2,
                });

                function raf(time) {
                    lenis.raf(time);
                    requestAnimationFrame(raf);
                }
                requestAnimationFrame(raf);
            } else {
                document.documentElement.style.scrollBehavior = 'smooth';
            }
        } catch (e) {
            console.warn("Lenis failed to initialize:", e);
        }

        // Markdown Loading Logic
        function loadDoc(filename) {
            const scriptId = `md-${filename}`;
            const element = document.getElementById(scriptId);
            
            if (!element) {
                console.error(`File not found: ${filename}`);
                // Fallback to README if not found
                if (filename !== 'README.md') loadDoc('README.md');
                return;
            }

            // More robust content retrieval
            const rawMarkdown = element.innerText || element.textContent || "";
            const contentDiv = document.getElementById('content');
            const breadcrumb = document.getElementById('breadcrumb');
            const mainScroll = document.getElementById('main-scroll');

            // Update Breadcrumb
            breadcrumb.textContent = `VIBES / ${filename.replace('.md', '')}`;

            // Render Markdown with marked.js check
            if (typeof marked !== 'undefined') {
                contentDiv.innerHTML = marked.parse(rawMarkdown.trim());
            } else {
                contentDiv.innerHTML = `<pre class="whitespace-pre-wrap font-mono text-sm">${rawMarkdown}</pre>`;
            }
            
            // Re-highlight code blocks with Prism check
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }

            // Active state styling
            document.querySelectorAll('.nav-btn').forEach(btn => {
                const btnFile = btn.getAttribute("data-file");
                if(btnFile === filename) {
                    btn.classList.add('text-white', 'bg-white/10');
                    btn.classList.remove('text-gray-400');
                } else {
                    btn.classList.remove('text-white', 'bg-white/10');
                    btn.classList.add('text-gray-400');
                }
            });

            // Update Hash
            if (history.pushState) {
                history.pushState(null, null, '#' + filename);
            } else {
                window.location.hash = filename;
            }

            // Scroll to top
            mainScroll.scrollTop = 0;
        }

        // Initialize with README or Hash
        window.addEventListener('load', () => {
            const initialHash = window.location.hash.replace('#', '');
            const initialFile = initialHash || 'README.md';
            setTimeout(() => loadDoc(initialFile), 100);
        });

        // Handle back/forward navigation
        window.addEventListener('hashchange', () => {
            const file = window.location.hash.replace('#', '');
            if (file) loadDoc(file);
        });
    </script>
</body>
</html>
